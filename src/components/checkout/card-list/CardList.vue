<template>
  <div class="card">
    <ul class="card__list">
      <li
        class="card__item"
        :id="`card_${i}`"
        v-for="(card, i) in cards"
        :class="[
          i < active ? 'card__item--previous' : i > active ? 'card__item--next' : 'card__item--active'
        ]"
        :key="i"
      >
        <div class="card__header">
          <svg
            v-if="card.name === 'visa'"
            class="card__icon"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 47.834 47.834"
          >
            <path
              d="M19.153 16.799l-2.431 14.266h3.888l2.433-14.266zM13.462 16.815l-3.808 9.729-.406-1.469c-.751-1.77-2.883-4.312-5.386-5.914l3.482 11.897 4.114-.007 6.123-14.239-4.119.003z"
            />
            <path
              d="M7.772 17.836c-.226-.869-.881-1.128-1.694-1.159H.05l-.05.284c4.691 1.138 7.795 3.88 9.083 7.177l-1.311-6.302zM30.923 19.534a7.178 7.178 0 0 1 2.91.546l.351.165.526-3.092c-.77-.289-1.977-.599-3.483-.599-3.842 0-6.55 1.935-6.571 4.708-.025 2.049 1.929 3.193 3.405 3.876 1.515.7 2.023 1.145 2.016 1.77-.012.955-1.208 1.393-2.325 1.393-1.557 0-2.384-.215-3.661-.747l-.501-.228-.547 3.193c.91.399 2.589.742 4.332.76 4.087 0 6.743-1.912 6.771-4.875.017-1.621-1.02-2.858-3.267-3.873-1.36-.662-2.192-1.102-2.184-1.77 0-.593.706-1.227 2.228-1.227zM44.688 16.815h-3.004c-.933 0-1.627.254-2.037 1.184l-5.773 13.074h4.083s.666-1.758.817-2.143l4.979.006c.116.498.474 2.137.474 2.137h3.607l-3.146-14.258zm-4.795 9.195c.32-.819 1.549-3.987 1.549-3.987-.021.039.317-.825.518-1.362l.262 1.23.901 4.119h-3.23z"
            />
          </svg>
          <svg class="card__icon--mastercard" v-if="card.name === 'mastercard'" height="512pt" viewBox="0 -91 512 512" width="512pt" xmlns="http://www.w3.org/2000/svg"><path d="M164.66 0C73.867 0 0 73.86 0 164.645c0 90.785 73.867 164.644 164.66 164.644 90.793 0 164.66-73.86 164.66-164.644C329.32 73.859 255.453 0 164.66 0zm0 0" fill="#ffbc4f"/><path d="M347.34 0c-90.793 0-164.66 73.86-164.66 164.645 0 90.785 73.867 164.644 164.66 164.644 90.793 0 164.66-73.86 164.66-164.644C512 73.859 438.133 0 347.34 0zm0 0" fill="#ff7d4f"/><g fill="#ffbc4f"><path d="M246.813 218.676c0-8.285-6.715-15-15-15h-44.446a163.276 163.276 0 0 0 10.504 30h33.941c8.286 0 15-6.715 15-15zm0 0M246.813 121.05c0-8.28-6.715-15-15-15h-38.348a163.24 163.24 0 0 0-8.297 30h46.644c8.286 0 15-6.714 15-15zm0 0M288.078 169.863c0-8.285-6.719-15-15-15h-90.101a165.648 165.648 0 0 0-.297 9.782c0 6.843.425 13.59 1.242 20.218h89.156c8.281 0 15-6.715 15-15zm0 0"/></g></svg>
          <svg class="card__icon card__icon--amex" v-if="card.name === 'amex'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 504 504"><path fill="#2fabf7" d="M43.2 207.6h17.6L52 185.2z"/><path d="M261.6 188.4c-1.6-.8-4-.8-6.4-.8h-16v12.8h16c2.4 0 4.8 0 6.4-.8s2.4-3.2 2.4-5.6c.8-3.2-.8-4.8-2.4-5.6z" fill="#228fe0"/><path d="M432.8 164.4v9.6l-4.8-9.6h-37.6v9.6l-4.8-9.6h-51.2c-8.8 0-16 1.6-22.4 4.8v-4.8h-36v4.8c-4-3.2-8.8-4.8-15.2-4.8H132l-8.8 20-8.8-20H73.6v9.6l-4.8-9.6H34.4l-16 37.6L0 243.6h40.8l4.8-12.8h11.2l4.8 12.8H108V234l4 9.6h23.2l4-9.6v9.6h111.2v-20.8h1.6c1.6 0 1.6 0 1.6 2.4v17.6h57.6V238c4.8 2.4 12 4.8 21.6 4.8h24l4.8-12.8h11.2l4.8 12.8H424v-12l7.2 12h37.6v-78.4h-36zm-270.4 67.2h-13.6v-44l-19.2 44h-12l-19.2-44v44H71.2l-5.6-12H38.4l-4.8 12.8H18.4l24-56.8h20l22.4 53.6v-53.6h21.6L124 214l16-38.4h22.4v56zm54.4-44h-31.2V198H216v11.2h-30.4v11.2h31.2v12H172v-56.8h44.8v12zm60 23.2c1.6 3.2 2.4 5.6 2.4 10.4v11.2h-13.6v-7.2c0-3.2 0-8-2.4-11.2-2.4-2.4-4.8-2.4-9.6-2.4h-14.4v20.8h-13.6v-56.8H256c7.2 0 12 0 16 2.4s6.4 6.4 6.4 12.8c0 8.8-5.6 13.6-9.6 15.2 4 .8 6.4 3.2 8 4.8zm24 20.8h-13.6v-56.8h13.6v56.8zm157.6 0h-19.2l-25.6-42.4v42.4h-27.2l-4.8-12h-28l-4.8 12.8h-15.2c-6.4 0-14.4-1.6-19.2-6.4-4.8-4.8-7.2-11.2-7.2-21.6 0-8 1.6-16 7.2-22.4 4-4.8 11.2-6.4 20-6.4h12.8v12h-12.8c-4.8 0-7.2.8-10.4 3.2-2.4 2.4-4 7.2-4 12.8 0 6.4.8 10.4 4 13.6 2.4 2.4 5.6 3.2 9.6 3.2h5.6l18.4-44h20L400 230v-53.6h20l23.2 39.2v-39.2h13.6v55.2h1.6z" fill="#0571c1"/><g fill="#228fe0"><path d="M358.4 207.6h18.4l-8.8-22.4zM222.4 322.8v-45.6l-20.8 22.4z"/></g><path fill="#2fabf7" d="M136.8 282.8v10.4h29.6v11.2h-29.6v12h32.8l15.2-16.8-14.4-16.8z"/><path d="M252.8 282.8H236v14.4h17.6c4.8 0 8-2.4 8-7.2-.8-4.8-4-7.2-8.8-7.2z" fill="#228fe0"/><path d="M500 296.4v-36h-33.6c-7.2 0-12.8 1.6-16.8 4.8v-4.8h-36.8c-5.6 0-12.8 1.6-16 4.8v-4.8H332v4.8c-4.8-4-13.6-4.8-17.6-4.8h-43.2v4.8c-4-4-13.6-4.8-18.4-4.8h-48l-11.2 12-10.4-12h-72v78.4h70.4l11.2-12 10.4 12h43.2v-18.4h5.6c5.6 0 12.8 0 18.4-2.4v21.6h36v-20.8h1.6c2.4 0 2.4 0 2.4 2.4v18.4h108.8c7.2 0 14.4-1.6 18.4-4.8v4.8H472c7.2 0 14.4-.8 19.2-4 8-4.8 12.8-13.6 12.8-24 0-5.6-1.6-11.2-4-15.2zm-248 12.8h-16v19.2h-25.6l-16-18.4-16.8 18.4h-52.8v-56.8h53.6l16 18.4 16.8-18.4h42.4c10.4 0 22.4 3.2 22.4 18.4-.8 16-12 19.2-24 19.2zm80-3.2c1.6 2.4 2.4 5.6 2.4 10.4v11.2h-13.6v-7.2c0-3.2 0-8.8-2.4-11.2-1.6-2.4-4.8-2.4-9.6-2.4h-14.4v20.8h-13.6v-56.8h30.4c6.4 0 12 0 16 2.4s7.2 6.4 7.2 12.8c0 8.8-5.6 13.6-9.6 15.2 4 1.6 6.4 3.2 7.2 4.8zm55.2-23.2H356v10.4h30.4v11.2H356v11.2h31.2v12h-44.8v-56.8h44.8v12zm33.6 44.8h-25.6v-12h25.6c2.4 0 4 0 5.6-1.6.8-.8 1.6-2.4 1.6-4s-.8-3.2-1.6-4c-.8-.8-2.4-1.6-4.8-1.6-12.8-.8-28 0-28-17.6 0-8 4.8-16.8 19.2-16.8h26.4v13.6h-24.8c-2.4 0-4 0-5.6.8s-1.6 2.4-1.6 4c0 2.4 1.6 3.2 3.2 4s3.2.8 4.8.8h7.2c7.2 0 12 1.6 15.2 4.8 2.4 2.4 4 6.4 4 12 0 12-7.2 17.6-20.8 17.6zm68.8-5.6c-3.2 3.2-8.8 5.6-16.8 5.6h-25.6v-12h25.6c2.4 0 4 0 5.6-1.6.8-.8 1.6-2.4 1.6-4s-.8-3.2-1.6-4c-.8-.8-2.4-1.6-4.8-1.6-12.8-.8-28 0-28-17.6 0-8 4.8-16.8 19.2-16.8h26.4v13.6h-24c-2.4 0-4 0-5.6.8s-1.6 2.4-1.6 4c0 2.4.8 3.2 3.2 4 1.6.8 3.2.8 4.8.8h7.2c7.2 0 12 1.6 15.2 4.8.8 0 .8.8.8.8 2.4 3.2 3.2 7.2 3.2 11.2 0 4.8-1.6 8.8-4.8 12z" fill="#0571c1"/><path d="M317.6 284.4c-1.6-.8-4-.8-6.4-.8h-16v12.8h16c2.4 0 4.8 0 6.4-.8s2.4-3.2 2.4-5.6c.8-3.2-.8-4.8-2.4-5.6z" fill="#228fe0"/><g fill="#228fe0"><path d="M261.6 188.4c-1.6-.8-4-.8-6.4-.8h-16v12.8h16c2.4 0 4.8 0 6.4-.8s2.4-3.2 2.4-5.6c.8-3.2-.8-4.8-2.4-5.6zM358.4 207.6h18.4l-8.8-22.4zM222.4 322.8v-45.6l-20.8 22.4z"/></g><path d="M252.8 282.8H236v14.4h17.6c4.8 0 8-2.4 8-7.2-.8-4.8-4-7.2-8.8-7.2zM317.6 284.4c-1.6-.8-4-.8-6.4-.8h-16v12.8h16c2.4 0 4.8 0 6.4-.8s2.4-3.2 2.4-5.6c.8-3.2-.8-4.8-2.4-5.6z" fill="#228fe0"/><g fill="#2fabf7"><path d="M247.2 326L236 314v13.6h-26.4l-16-18.4-17.6 18.4h-52.8v-56h53.6l16.8 18.4 8-9.6-20-20h-70.4v78.4h70.4l12-12 10.4 12h43.2zM164 242.8l-10.4-11.2h-4.8v-4.8l-12-12-8 16.8h-11.2l-19.2-44v44H71.2l-5.6-12H38.4l-5.6 12H18.4l24-56h20l22.4 53.6v-53.6h12l-11.2-11.2h-12v9.6l-4-9.6H34.4l-16 37.6L0 242.8H41.6l4.8-12h11.2l5.6 12H108v-9.6l4 9.6h23.2l4-9.6v9.6z"/><path d="M127.2 206l-12.8-12.8L124 214z"/></g><g fill="#228fe0"><path d="M491.2 334.8c7.2-4.8 12-12.8 12.8-21.6L492.8 302c.8 2.4 1.6 4.8 1.6 8 0 4.8-1.6 8.8-4.8 12-3.2 3.2-8.8 5.6-16.8 5.6h-25.6v-12h25.6c2.4 0 4 0 5.6-1.6.8-.8 1.6-2.4 1.6-4s-.8-3.2-1.6-4c-.8-.8-2.4-1.6-4.8-1.6-12.8-.8-28 0-28-17.6 0-8 4.8-15.2 16.8-16.8l-8.8-8.8c-1.6.8-2.4 1.6-3.2 1.6V258h-36.8c-5.6 0-12.8 1.6-16 4.8V258H332v4.8c-4.8-4-13.6-4.8-17.6-4.8h-43.2v4.8c-4-4-13.6-4.8-18.4-4.8h-48l-11.2 12-10.4-12h-8.8l24 24 12-12.8h42.4c10.4 0 22.4 3.2 22.4 18.4 0 16-11.2 19.2-23.2 19.2h-16v12l12 12v-12h4c5.6 0 12.8 0 18.4-2.4V338h36v-20.8h1.6c2.4 0 2.4 0 2.4 2.4V338h108.8c7.2 0 14.4-1.6 18.4-4.8v4.8H472c6.4.8 13.6 0 19.2-3.2zM332 306c1.6 2.4 2.4 5.6 2.4 10.4v11.2h-13.6v-7.2c0-3.2 0-8.8-2.4-11.2-1.6-2.4-4.8-2.4-9.6-2.4h-14.4v20.8h-13.6v-56.8h30.4c6.4 0 12 0 16 2.4s7.2 6.4 7.2 12.8c0 8.8-5.6 13.6-9.6 15.2 4 1.6 6.4 3.2 7.2 4.8zm55.2-23.2H356v10.4h30.4v11.2H356v11.2h31.2v12h-44.8v-56.8h44.8v12zm33.6 44.8h-25.6v-12h25.6c2.4 0 4 0 5.6-1.6.8-.8 1.6-2.4 1.6-4s-.8-3.2-1.6-4c-.8-.8-2.4-1.6-4.8-1.6-12.8-.8-28 0-28-17.6 0-8 4.8-16.8 19.2-16.8h26.4v13.6h-24.8c-2.4 0-4 0-5.6.8s-1.6 2.4-1.6 4c0 2.4 1.6 3.2 3.2 4s3.2.8 4.8.8h7.2c7.2 0 12 1.6 15.2 4.8 2.4 2.4 4 6.4 4 12 0 12-7.2 17.6-20.8 17.6z"/><path d="M459.2 288.4c0 2.4.8 3.2 3.2 4 1.6.8 3.2.8 4.8.8h7.2c4.8 0 8 .8 11.2 2.4l-12-12h-7.2c-2.4 0-4 0-5.6.8-.8.8-1.6 2.4-1.6 4zM431.2 240.4l1.6 2.4h.8zM387.2 196.4l13.6 32.8V210z"/><path d="M250.4 222.8h1.6c1.6 0 1.6 0 1.6 2.4v17.6h57.6V238c4.8 2.4 12 4.8 21.6 4.8h24l4.8-12.8h11.2l4.8 12.8H424v-8l-11.2-11.2v8.8h-27.2l-4-12.8h-28l-4.8 12.8h-15.2c-6.4 0-14.4-1.6-19.2-6.4-4.8-4.8-7.2-11.2-7.2-21.6 0-8 1.6-16 7.2-22.4 4-4.8 11.2-6.4 20-6.4h12.8v12h-12.8c-4.8 0-7.2.8-10.4 3.2-2.4 2.4-4 7.2-4 12.8 0 6.4.8 10.4 4 13.6 2.4 2.4 5.6 3.2 9.6 3.2h5.6l18.4-44h8l-11.2-11.2h-20.8c-8.8 0-16 1.6-22.4 4.8v-4.8H276v4.8c-4-3.2-8.8-4.8-15.2-4.8H132l-8.8 20-8.8-20H79.2l11.2 11.2h16L120 206l4.8 4.8 14.4-35.2h22.4v56.8H148v-44l-13.6 32 23.2 23.2h92l.8-20.8zm36.8-47.2h13.6v56.8h-13.6v-56.8zm-70.4 12h-31.2V198H216v11.2h-30.4v11.2h31.2v12H172v-56.8h44.8v12zm22.4 44h-13.6v-56.8H256c7.2 0 12 0 16 2.4s6.4 6.4 6.4 12.8c0 8.8-5.6 13.6-9.6 15.2 3.2.8 5.6 3.2 6.4 4.8 1.6 3.2 2.4 5.6 2.4 10.4v11.2H264v-7.2c0-3.2 0-8-2.4-11.2-.8-1.6-3.2-1.6-8-1.6h-14.4v20z"/></g></svg>
          <svg class="card__icon card__icon--discover" v-if="card.name === 'discover'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.949 47.949"><path d="M35.712 14.123v-1.127h-3.674v6.645h3.674v-1.125h-2.379v-1.794h2.293v-1.125h-2.293v-1.474zM39.334 16.844c.975-.199 1.514-.866 1.514-1.884 0-1.244-.858-1.962-2.352-1.962h-1.922v6.645h1.295v-2.67h.168l1.793 2.67h1.596l-2.092-2.799zm-1.088-.788h-.377l.001-2.011h.398c.808 0 1.246.338 1.246.984 0 .669-.44 1.027-1.268 1.027zM41.424 12.865a.508.508 0 1 0 0 1.018.508.508 0 0 0 0-1.018zm-.005.927c-.219 0-.403-.186-.403-.417s.182-.418.403-.418.404.189.404.418-.18.417-.404.417z"/><path d="M41.489 13.427a.16.16 0 0 0 .127-.163c0-.118-.08-.181-.222-.181h-.188v.584h.139v-.227l.164.227h.17l-.19-.24zm-.121-.085h-.022v-.152h.024c.069 0 .104.025.104.075 0 .053-.037.077-.106.077zM6.07 12.996h1.295v6.645H6.07zM10.53 15.545c-.779-.287-1.008-.478-1.008-.836 0-.419.408-.737.967-.737.387 0 .707.16 1.045.539l.678-.889a2.914 2.914 0 0 0-1.953-.736c-1.176 0-2.07.816-2.07 1.903 0 .915.416 1.384 1.633 1.822.508.179.766.298.896.378.26.169.389.409.389.688 0 .538-.428.938-1.006.938-.617 0-1.117-.31-1.414-.887l-.838.807c.598.877 1.314 1.266 2.299 1.266 1.348 0 2.293-.896 2.293-2.182-.001-1.056-.439-1.535-1.911-2.074zM12.68 35.141h35.269V22.417S35.494 31.206 12.68 35.141zM1.9 12.998H0v6.645h1.893c1.004 0 1.73-.24 2.369-.769a3.327 3.327 0 0 0 1.205-2.549c0-1.962-1.465-3.329-3.567-3.327zm1.514 4.99c-.406.367-.935.528-1.771.528h-.348v-4.394h.348c.835 0 1.343.15 1.771.537.449.399.719 1.017.719 1.654 0 .64-.269 1.276-.719 1.675zM30.049 12.998l-1.796 4.463-1.771-4.463h-1.416l2.82 6.813h.695l2.871-6.813zM21.936 12.807a3.534 3.534 0 1 0 0 7.069 3.532 3.532 0 0 0 3.375-2.484c.021-.061.033-.123.051-.184.012-.052.027-.103.037-.154a3.534 3.534 0 0 0-3.463-4.247zM16.355 14.031c.619 0 1.088.221 1.625.748v-1.524c-.568-.289-1.037-.408-1.594-.408-1.963 0-3.537 1.545-3.537 3.477-.001 1.952 1.532 3.465 3.505 3.465.559 0 1.037-.108 1.625-.387v-1.526c-.518.519-.977.729-1.564.729-1.305 0-2.23-.947-2.23-2.292 0-1.274.955-2.282 2.17-2.282z"/></svg>
        </div>
        <div class="card__number">
          <span v-for="item in 4" :key="item" :class="[
            item === 4 && (lastDigits && active === card.id) ? 'has-number' : ''
          ]">
            {{item !== 4 ? '****' : (lastDigits && active === card.id) ? lastDigits : '****'}}
          </span>
        </div>
        <div class="card__details">
          <div class="card__holder">
            <span class="card__label">
              Card holder
            </span>
            <p class="card__name">
              {{name ? name : 'Card Holder Name'}}
            </p>
          </div>
          <div class="card__expire-date">
            <span class="card__label">
              Expire date
            </span>
            <p class="card__name">
              {{expireDate ? expireDate : '02/18'}}
            </p>
          </div>
        </div>
      </li>
      <button class="card__button card__button--previous" 
        @click="previous"
        v-if="active > 0">
        <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="46.02" height="46.02" viewBox="0 0 46.02 46.02"><path d="M14.757 46.02a5.688 5.688 0 0 1-3.929-1.569 5.705 5.705 0 0 1-.204-8.063L23.382 22.97 10.637 9.645a5.703 5.703 0 0 1 8.242-7.884l16.505 17.253a5.707 5.707 0 0 1 .013 7.872L18.893 44.247a5.699 5.699 0 0 1-4.136 1.773z"/></svg>
      </button>
      <button class="card__button card__button--next" 
        @click="next"
        v-if="active < (cards.length - 1)">
        <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="46.02" height="46.02" viewBox="0 0 46.02 46.02"><path d="M14.757 46.02a5.688 5.688 0 0 1-3.929-1.569 5.705 5.705 0 0 1-.204-8.063L23.382 22.97 10.637 9.645a5.703 5.703 0 0 1 8.242-7.884l16.505 17.253a5.707 5.707 0 0 1 .013 7.872L18.893 44.247a5.699 5.699 0 0 1-4.136 1.773z"/></svg>
      </button>
    </ul>
  </div>
</template>

<script>
import "./cards.scss";

export default {
  data: function() {
    return {
      // active: this.selectedCard || 1,
      cards: [
        {
          id: 0,
          name: "mastercard"
        },
        {
          id: 1,
          name: "visa"
        },
        {
          id: 2,
          name: "amex"
        },
        {
          id: 3,
          name: "discover"
        }
      ]
    };
  },
  props: [
    'lastDigits',
    'name',
    'expireDate',
    'active',
    'onChange'
  ],
  methods: {
    next: function () {
      if(this.active < this.cards.length - 1) this.onChange(this.active + 1);
    },
    previous: function () {
      if(this.active > 0) this.onChange(this.active - 1);
    }
  },
  update: function () {
    // console.log('changed value', this.active);
  }
};
</script>

<style>
</style>